import{n as d,o as y,J as V,a as l,q as h}from"./index-BikQM9j1.js";import{a as x,u as A}from"./use-transform-M45VeSqP.js";function C(t,e,s){const o=t.get();let n=null,c=o,f;const p=typeof o=="string"?o.replace(/[\d.-]/g,""):void 0,a=()=>{n&&(n.stop(),n=null)},S=()=>{a(),n=new V({keyframes:[g(t.get()),g(c)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:f})};if(t.attach((r,i)=>(c=r,f=u=>i(m(u,p)),d.postRender(S),t.get()),a),y(e)){const r=e.on("change",u=>t.set(m(u,p))),i=t.on("destroy",r);return()=>{r(),i()}}return a}function m(t,e){return e?t+e:t}function g(t){return typeof t=="number"?t:parseFloat(t)}function O(t,e={}){const{isStatic:s}=l.useContext(h),o=()=>y(t)?t.get():t;if(s)return x(o);const n=A(o());return l.useInsertionEffect(()=>C(n,t,e),[n,JSON.stringify(e)]),n}export{O as u};
