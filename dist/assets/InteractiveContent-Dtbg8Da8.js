import{r as s,j as e,m,g as d,S as h}from"./index-B-HRXyag.js";import{u as p}from"./Gltf-DtB1V7-b.js";import{ax as f,ay as g,d as y,u as j}from"./events-e3cb66e2.esm-DFm8s4y8.js";import{t as v}from"./bundle-mjs-BTmSotT-.js";import{A as b}from"./index-87ra0BQW.js";import"./BufferGeometryUtils-7-XupBXG.js";function I(t,n){const c=s.useRef(null),[r]=s.useState(()=>n?n instanceof f?{current:n}:n:c),[a]=s.useState(()=>new g(void 0));s.useLayoutEffect(()=>{n&&(r.current=n instanceof f?n:n.current),a._root=r.current});const i=s.useRef({}),o=s.useMemo(()=>{const l={};return t.forEach(u=>Object.defineProperty(l,u.name,{enumerable:!0,get(){if(r.current)return i.current[u.name]||(i.current[u.name]=a.clipAction(u,r.current))},configurable:!0})),{ref:r,clips:t,actions:l,names:t.map(u=>u.name),mixer:a}},[t]);return y((l,u)=>a.update(u)),s.useEffect(()=>{const l=r.current;return()=>{i.current={},a.stopAllAction(),Object.values(o.actions).forEach(u=>{l&&a.uncacheAction(u,l)})}},[t]),o}function N(t){const n=s.useRef(),{scene:c,animations:r}=p("/models/astronaut-opt.glb"),{actions:a}=I(r,n);return s.useEffect(()=>{var i;c.traverse(o=>{o.isMesh&&(o.material.transparent=!0)}),a&&r.length>0&&((i=a[r[0].name])==null||i.play())},[c,a,r]),e.jsx("group",{ref:n,dispose:null,children:e.jsx("primitive",{object:c,...t})})}p.preload("/models/astronaut-opt.glb");const A=({words:t,duration:n=3e3,className:c})=>{const[r,a]=s.useState(0);return s.useEffect(()=>{const i=setInterval(()=>{a(o=>(o+1)%t.length)},n);return()=>clearInterval(i)},[t,n]),e.jsx(b,{mode:"wait",children:e.jsx(m.div,{initial:{opacity:0,y:-50,rotateX:90},animate:{opacity:1,y:0,rotateX:0},exit:{opacity:0,y:50,rotateX:-90},transition:{duration:.4,ease:"easeInOut"},className:v("relative inline-block",c),children:t[r]},t[r])})},E={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.2}}},x={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},R=()=>{const t=["Creative","Interactive","Modern"];return e.jsxs("div",{className:"z-10 mt-20 flex flex-col items-center text-center md:mt-40 md:items-start md:text-left",children:[e.jsxs("div",{className:"invisible",children:[e.jsx("h1",{className:"text-4xl font-medium text-text-primary",children:"Hi, I'm Hizkia JB"}),e.jsx("p",{className:"mt-2 block text-5xl font-bold text-text-secondary md:hidden",children:"Passionate about building"}),e.jsxs("p",{className:"mt-2 hidden text-5xl font-medium text-text-secondary md:block",children:["Bringing ideas to life ",e.jsx("br",{})," by building"]})]}),e.jsxs(m.div,{className:"flex flex-col items-center md:items-start",initial:"hidden",animate:"visible",variants:E,children:[e.jsx(m.div,{className:"flex h-[90px] items-center md:h-[120px]",variants:x,children:e.jsx(A,{words:t,className:"bg-gradient-to-r from-accent-dark to-accent-text bg-clip-text text-7xl font-black text-transparent md:text-8xl"})}),e.jsx(m.p,{className:"block text-4xl font-bold text-text-secondary md:hidden",variants:x,children:"digital experiences."}),e.jsx(m.p,{className:"hidden text-4xl font-medium text-text-secondary md:block",variants:x,children:"web experiences."})]})]})};d.registerPlugin(h);const S=({isMobile:t})=>{const n=s.useRef(),c=j(r=>r.camera);return s.useLayoutEffect(()=>{const r=d.context(()=>{if(n.current){const a=d.timeline({scrollTrigger:{trigger:"#hero-section",start:"top top",end:"bottom top",scrub:1.5}}),i=t?.25:.2,o=t?[0,-2,0]:[2.5,-2,-1],l=t?[0,0,0]:[0,Math.PI/2,0];a.to(n.current.scale,{x:i,y:i,z:i},0),a.to(n.current.position,{x:o[0],y:o[1],z:o[2]},0),a.to(n.current.rotation,{x:l[0],y:l[1],z:l[2]},0),a.to(c.position,{x:t?0:1,y:t?1:0,z:7},0)}});return()=>r.revert()},[t,c]),e.jsxs(e.Fragment,{children:[e.jsx("ambientLight",{intensity:1.5}),e.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:2}),e.jsx("pointLight",{position:[-10,-10,-10],intensity:1.5}),e.jsx("group",{ref:n,children:e.jsx(N,{scale:t?1:1.5,position:t?[.5,-2,0]:[2,-.5,0],rotation:t?[-Math.PI/2,4,4]:[-Math.PI/2,7.25,2]})})]})},T=({section:t,isMobile:n})=>t==="3d"?e.jsx(S,{isMobile:n}):t==="text"?e.jsx(R,{}):null;export{T as default};
